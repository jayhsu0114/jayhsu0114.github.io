<!DOCTYPE html>
<html>
<head>
    <title>中山資料庫</title>
</head>
<body>
    <h1>中山資料庫</h1>
    <form id="zsjhForm">
        <label for="anonymousContent">匿名內容:</label>
        <input type="text" id="anonymousContent" name="anonymousContent" required>
        <input type="hidden" id="formId" name="formId" value="zsjh">
        <button type="submit" id="submitButton">提交</button>
    </form>

    <script>
        document.getElementById('zsjhForm').addEventListener('submit', async function(event) {
            event.preventDefault();

            // 禁用提交按钮
            document.getElementById('submitButton').disabled = true;

            const formData = new FormData(this);
            fetch('https://script.google.com/macros/s/AKfycbwC_5HrfS_D8d5QiWnAzga5NYJpYZHjP9jOeE-QJz0_VgayXva7Ss4Nl62atsWaQvmR/exec', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                alert('提交成功！');
                this.reset();  // 重置表单
                document.getElementById('submitButton').disabled = false;  // 重新启用提交按钮
            })
            .catch(error => {
                console.error('提交失败:', error);
                alert('提交失败，请稍候再试。');
                document.getElementById('submitButton').disabled = false;  // 重新启用提交按钮
            });
        });
    </script>
</body>
</html>
