<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZSJH Export</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.5.0-beta4/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Canvas2Image/0.1.5/Canvas2Image.min.js"></script>
    <style>
        body{
  background-color: #fefdf7;
}
.post{
  height: 95vw;
  width: 95vw;
  background-color: #000000;
}
.post img{
  width: 95vw;
  position: relative;
  z-index: 0;
}
.post .date{
  top: 83vw;
  left: 50%;
  transform: translate(-50%, -50%);
  position: absolute;
  z-index: 1;
  background-color: #333;
  width: 61vw;
  height: 4.75vw;
  border: 0px;
  text-align: center;
  color:#e69137;
}
.post .number{
  top: 78.25vw;
  left: 50%;
  transform: translate(-50%, -50%);
  position: absolute;
  z-index: 1;
  background-color: #555;
  width: 61vw;
  height: 4.75vw;
  border: 0px;
  text-align: center;
  color:#e69137;
}
.post .data{
  top: 73.5vw;
  left: 50%;
  transform: translate(-50%, -50%);
  position: absolute;
  z-index: 1;
  background-color: #999;
  width: 61vw;
  height: 4.75vw;
  border: 0px;
  text-align: center;
  color:#ea9999;
}
.post .content{
  top: 51.0625vw;
  left: 50%;
  transform: translate(-50%, -50%);
  position: absolute;
  z-index: 1;
  background-color: #000;
  width: 61vw;
  height: 35.625vw;
  border: 0px;
  text-align: center;
  resize: none;
}
.blank{
  height: 50px;
}
button{
  border: 0px;
  background-color: #fefdf7;
  box-shadow: 2px 2px 5px #888888;
  height: 30px;
  width: 200px;
  border-radius: 20px;
}
    </style>
</head>
<body>
    <center>
        <div class="post" id="post">
            <img src="zsjh.png" alt="background">
            <textarea class="content" id="content-1" type="text" value="textarea"></textarea>
            <input class="data" id="data-1" type="text" value="data">
            <input class="number" id="number-1" type="text" value="number">
            <input class="date" id="date-1" type="text" value="date">
        </div>
    
    <div class="blank"></div>
    
        <div>
            <button onclick="saveImage()">Output</button>
        </div>
   
    <div class="blank"></div>

        <div id="canvasContainer"></div>

    <div class="blank"></div>
    
        <div>
            <button onclick="canvasToImage()">Output</button>
        </div>


    </center>

    <script>
        function saveImage() {
    const canvasContainer = document.querySelector("#canvasContainer");
    while (canvasContainer.firstChild) {
        canvasContainer.removeChild(canvasContainer.firstChild);
    }
    const el = document.querySelector("#post");
    const options = {};
    html2canvas(el, options)
    .then(canvas => {
        canvasContainer.appendChild(canvas);
        canvasToImage(canvas);
    });
}

function canvasToImage(canvas) {
    const filename = 'xxxxx';
    Canvas2Image.saveAsPNG(
        canvas,
        canvas.width,
        canvas.height,
        filename
    );
}
    </script>
    
</body>
</html>
